version: 1
    metadata:
      name: medlog-oidc
    entries:
      - model: authentik_providers_oauth2.OAuth2Provider
        id: medlog-oidc-provider
        identifiers:
          name: medlog-oidc-provider
        state: present
        attrs:
          authorization_flow: !Find [authentik_flows.flow, [slug, {{ .Values.blueprint.provider.authorizationFlow }}]]
          client_type: confidential
          client_id: FfgBVFx2H11q8Dz6HDmh8ASIuqolKZd7q7IUsZn2
          client_secret: m5WZWMZjZBUCgHTI9puGhIJjebY3iDkMNf4qfd7yrV77NgtbVzKpJWlU32DITbBMgmTxbdOShZAPrH9sjvO71RPZMOOlxCr5C3IAiYMdyKsqV4dapX3bkO23gqNqT1sY
          redirect_uris: http://localhost:8081
          access_token_validity: minutes=5
          signing_key: !Find [authentik_crypto.CertificateKeyPair, [name, {{ . }}]]
          property_mappings:
            - !Find [authentik_providers_oauth2.ScopeMapping, [scope_name, {{ . }}]]
    
      - model: authentik_core.Application
        id: medlog
        identifiers:
          slug: medlog
        state: present
        attrs:
          name: medlog
          slug: medlog
          provider: 1
          policy_engine_mode: any
          meta_launch_url: http://localhost:8081